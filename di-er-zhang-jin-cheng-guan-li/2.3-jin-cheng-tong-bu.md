# 2.3 进程同步

## 2.3.1 进程同步的概念

### 一、同步

**同步**亦称**直接制约关系**，它是指为完成某种任务而建立的两个或多个进程，这些进程因为需要在某些位置上协调它们的工作次序而产生的制约关系。进程间的直接制约关系就是源于它们之间的相互合作。

### 二、互斥

对**临界资源**的访问，必须**互斥**地进行。

**互斥**，亦称**间接制约关系**。进程互斥指当一个进程访问某临界资源时，另一个想要访问该临界资源的进程必须等待。当前访问临界资源的进程访问结束，释放该资源之后, 另一个进程才能去访问临界资源。

### 三、临界资源

临界资源指一个时间段内只允许一个进程使用的资源。

例如物理设备、内存缓冲区等都是临界资源。

在每个进程中，访问临界资源的那部分代码被称为**临界区**。对临界资源的访问，可以分为四个阶段：

```objectivec
do {
    entry section;      //进入区
    critical section;   //临界区
    exit section;       //退出区
    remainder section;  //剩余区
} while (true)
```

1. **进入区**：检查是否可以进入临界区，若可以进入，则设置**正在访问临界区的标志**，以阻止其他进程进入临界区；
2. 临界区：

