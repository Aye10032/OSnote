# 3.2 虚拟内存技术

## 3.2.1 虚拟内存的概念

### 1、传统存储管理方式的特征

1. **一次性**：作业必须一次性全部装入内存才能开始运行
   * 作业很大时，内存无法完全装入，导致作业无法运行
   * 大量作业运行时，内存无法容纳所有作业，导致多道程序并发性下降
2. **驻留性**：作业一旦进入内存，就会一直驻留在内存中，直到作业运行结束
   * 会导致暂时无用的大量数据驻留在内存中，导致内存的浪费

### 2、局部性原理

**时间局部性**：如果执行了程序中的某条指令，那么不久后这条指令很有可能再次执行；如果某个数据被访问过，不久之后该数据很可能再次被访问。\( 因为程序中存在大量的循环\)

**空间局部性**：一旦程序访问了某个存储单元，在不久之后，其附近的存储单元也很有可能被访问。 \(因为很多数据在内存中都是连续存放的，并且程序的指令也是顺序地在内存中存放的\)

### 3、虚拟存储器的定义和特征

基于**局部性原理**，

* 在程序装入时，可以将程序中很快会用到的部分装入内存，暂时用不到的部分留在外存， 就可以让程序开始执行。
* 在程序执行过程中，当所访问的信息不在内存时，由操作系统负贵将所需信息从外存调入内存，然后继续执行程序。
* 若内存空间不够，由操作系统负贵将内存中暂时用不到的信息换出到外存。 

在操作系统的管理下，在用户看来似乎有一个比实际内存大得多的内存，这就是**虚拟内存**。

#### 虚拟内存的主要特征

* 多次性
* 对换性
* 虚拟性

